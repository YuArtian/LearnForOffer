# 快速排序

> 也叫归并排序，采用分治法

## 1

```js
let arr = [5, 6, 8, 10, 9, 1, 3];

function quickSort(arr) {
  if (arr.length <= 1) {
    return arr;
  }
  var left = [],
    right = [],
    baseDot = Math.round(arr.length / 2),
    base = arr.splice(baseDot, 1)[0];

  for (var i = 0; i < arr.length; i++) {
    if (arr[i] < base) {
      left.push(arr[i]);
    } else {
      right.push(arr[i]);
    }
  }

  return quickSort(left).concat([base], quickSort(right));
}

arr = quickSort(arr);
console.log("arr", arr);
```

## 2

```js
const SENTINEL = Number.MAX_SAFE_INTEGER
function divide(p, r){
  return Math.floor((p + r)/2)
}
function conquer(A, p, q, r){
  const A1 = A.slice(p, q)
  const A2 = A.slice(q, r)

  A1.push(SENTINEL)
  A2.push(SENTINEL)

  for (let k=p,i=0, j=0; k<r; k++) {
    A[k] = A1[i] < A2[j] ? A1[i++] : A2[j++]
  }
}

function merge_sort(A, p=0, r){
  r = r || A.length
  if(r-p === 1) return
  if(r-p === 2){
    if (A[p] > A[r-1]) {
      [A[p], A[r-1]] = [A[r-1], A[p]]
    }
    return
  }

  const q = divide(p, r)
  merge_sort(A, p, q)
  merge_sort(A, q, r)
  conquer(A, p, q, r)
  return A
}
```

